# BlastNavigator

**ãƒ­ãƒ¼ã‚«ãƒ«BLAST+å®Ÿè¡Œã®ãŸã‚ã®ã€å …ç‰¢ãªGUIãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Windowså°‚ç”¨)**

BlastNavigatorã¯ã€NCBI BLAST+ã® `blastn` ã‚³ãƒžãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã‚’ã€ç›´æ„Ÿçš„ãªã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆGUIï¼‰ã§å®‰å…¨ã«å®Ÿè¡Œã™ã‚‹ãŸã‚ã® **Windowså°‚ç”¨** ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

![BlastNavigator Demo](Animation.gif)

---

## ðŸš€ ä¸»ãªæ©Ÿèƒ½

* **ç°¡å˜ãªæ“ä½œ**
  * è¤‡æ•°FASTAãƒ•ã‚¡ã‚¤ãƒ«ã®ã€Œãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ ã€ãƒœã‚¿ãƒ³ã«ã‚ˆã‚‹ä¸€æ‹¬ç™»éŒ²ã€‚
  * è§£æžé †åºã®ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ã«ã‚ˆã‚‹ä¸¦ã³æ›¿ãˆã€‚
  * ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§FASTAãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ¡ãƒ¢å¸³ã§é–‹ãæ©Ÿèƒ½ã€‚
* **å …ç‰¢ãªå®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ (v0.4.2)**
  * **è¨­å®šã®äº‹å‰æ¤œè¨¼:** è§£æžå®Ÿè¡Œå‰ã«`blastn.exe`ã‚„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆ`.nal`/`.pal`ï¼‰ã®å­˜åœ¨ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€è¨­å®šãƒŸã‚¹ã‚’å³åº§ã«é€šçŸ¥ã—ã¾ã™ ã€‚
  * **è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°:** FASTAãƒ•ã‚¡ã‚¤ãƒ«ã®ç ´æã‚„DBåä¸æ­£ã«ã‚ˆã‚‹BLASTå®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã‚’å€‹åˆ¥ã«æ¤œçŸ¥ã—ã€åˆ†ã‹ã‚Šã‚„ã™ã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™ ã€‚
  * **å®‰å…¨ãªçµ‚äº†å‡¦ç†:** è§£æžä¸­ã«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ã€ŒÃ—ã€ãƒœã‚¿ãƒ³ã§é–‰ã˜ã¦ã‚‚ã€å®Ÿè¡Œä¸­ã®`blastn`ãƒ—ãƒ­ã‚»ã‚¹ãŒPCä¸Šã«æ®‹ã‚‰ãªã„ï¼ˆã‚¾ãƒ³ãƒ“åŒ–ã—ãªã„ï¼‰ã‚ˆã†å®‰å…¨ã«å¼·åˆ¶çµ‚äº†ã—ã¾ã™ ã€‚
* **åŠ¹çŽ‡çš„ãªå‡¦ç†ãƒ•ãƒ­ãƒ¼**
  * ãƒªã‚¹ãƒˆã®å…ˆé ­ã‹ã‚‰1ãƒ•ã‚¡ã‚¤ãƒ«ãšã¤è‡ªå‹•ã§é€æ¬¡å‡¦ç†ï¼ˆã‚¹ãƒ†ãƒ¼ãƒˆãƒžã‚·ãƒ³ãƒ¢ãƒ‡ãƒ«ï¼‰ ã€‚
  * è§£æžä¸­ã§ã‚‚ãƒªã‚¹ãƒˆã®ç·¨é›†ï¼ˆè¿½åŠ ãƒ»å‰Šé™¤ãƒ»ä¸¦ã³æ›¿ãˆï¼‰ãŒå¯èƒ½ ã€‚
  * è§£æžå®Œäº†å¾Œã€æˆåŠŸã—ãŸFASTAãƒ•ã‚¡ã‚¤ãƒ«ã¯è‡ªå‹•ã§ `processed` ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹• ã€‚
  * çµæžœã¯å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒéšŽå±¤ã« `_result.csv` ã¨ã—ã¦è‡ªå‹•å‡ºåŠ› ã€‚

---

## âš ï¸ å¿…é ˆã®äº‹å‰æº–å‚™

BlastNavigatorã¯GUIãƒ„ãƒ¼ãƒ«ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰ã§ã™ã€‚å‹•ä½œã«ã¯ã€ä»¥ä¸‹ã®2ã¤ãŒåˆ¥é€”ãƒ­ãƒ¼ã‚«ãƒ«PCã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

1. **NCBI BLAST+ æœ¬ä½“**
    * `blastn.exe` ã‚’å«ã‚€å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ã€‚
    * [NCBIå…¬å¼FTPã‚µã‚¤ãƒˆ](https://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/LATEST/) ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚
2. **BLASTãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**
    * `ref_prok_rep_genomes` ã‚„ `16S_ribosomal_RNA` ãªã©ã€ `makeblastdb` ã§æ§‹ç¯‰æ¸ˆã¿ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ï¼ˆ`.nal`, `.nin`, `.nsq`ãªã©ï¼‰ã€‚

---

## ðŸ“¥ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ä½¿ã„æ–¹

### 1. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å…¥æ‰‹

1. æœ¬ãƒªãƒã‚¸ãƒˆãƒªã® [**ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸**](https://github.com/newamder/BlastNavigator-release/releases) ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚
2. æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® `BlastNavigator_v0.4.2.zip` ãªã©ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€è§£å‡ã—ã¾ã™ã€‚
3. `BlastNavigator.exe` ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

### 2. åˆå›žè¨­å®š (å¿…é ˆ)

1. ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã® **[ãƒ•ã‚¡ã‚¤ãƒ«] > [è¨­å®š...]** ã‚’é–‹ãã¾ã™ ã€‚
2. ã€Œå¿…é ˆã®äº‹å‰æº–å‚™ã€ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ2ã¤ã®å ´æ‰€ã‚’ã€GUIã‹ã‚‰æ­£ã—ãæŒ‡å®šã—ã¦ãã ã•ã„ ã€‚
    * **BLAST+ binãƒ•ã‚©ãƒ«ãƒ€:** `blastn.exe` ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆä¾‹: `C:\Program Files\NCBI\blast-2.17.0+\bin`ï¼‰
    * **DBãƒ•ã‚©ãƒ«ãƒ€:** ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç¾¤ï¼ˆ`.nal`ãƒ•ã‚¡ã‚¤ãƒ«ãªã©ï¼‰ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆä¾‹: `J:\blast_db`ï¼‰
    * **DBå:** ä½¿ç”¨ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ™ãƒ¼ã‚¹åï¼ˆä¾‹: `ref_prok_rep_genomes`ï¼‰
3. [ä¿å­˜] ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚ï¼ˆã“ã®è¨­å®šã¯ `config.ini` ã«ä¿å­˜ã•ã‚Œã€æ¬¡å›žã‹ã‚‰è‡ªå‹•ã§èª­ã¿è¾¼ã¾ã‚Œã¾ã™ï¼‰

### 3. è§£æžã®å®Ÿè¡Œ

1. [ãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ ] ãƒœã‚¿ãƒ³ã§ã€è§£æžã—ãŸã„FASTAãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã¾ã™ã€‚
2. [è§£æžå®Ÿè¡Œ] ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€è¨­å®šã®äº‹å‰æ¤œè¨¼ãŒå®Ÿè¡Œã•ã‚Œã€å•é¡ŒãŒãªã‘ã‚Œã°ãƒªã‚¹ãƒˆã®ä¸Šã‹ã‚‰é †ã«å‡¦ç†ãŒé–‹å§‹ã•ã‚Œã¾ã™ã€‚

---

**A Robust GUI Frontend for Local BLAST+ (Windows Only)**

BlastNavigator is a **Windows-only** application designed to safely and intuitively run the NCBI BLAST+ (`blastn`) command-line tool via a graphical user interface.

---

## ðŸš€ Key Features

* **Easy Operation**
  * Add multiple FASTA files at once using the "Add Files" button.
  * Reorder the analysis queue via drag-and-drop.
  * Double-click a file in the list to open it in Notepad.
* **Robust Execution Engine (v0.4.2)**
  * **Pre-flight Validation:** Checks for the existence of `blastn.exe` and database files (`.nal`/`.pal`) *before* running, preventing configuration errors.
  * **Detailed Error Handling:** Detects runtime errors (e.g., corrupted FASTA files, bad DB names) and displays user-friendly error messages.
  * **Safe Exit:** Safely terminates any running `blastn` subprocess when the window is closed, preventing zombie processes.
* **Efficient Workflow**
  * Automatically processes files one-by-one from the top of the list (State Machine Model).
  * **Supports list editing (add, remove, reorder) *while* analysis is running**.
  * Successfully processed FASTA files are automatically moved to a `processed` subfolder.
  * Results are automatically saved as `_result.csv` in the same directory as the source file.

---

## âš ï¸ Prerequisites

BlastNavigator is a frontend GUI. You **must** install the following two components on your local machine first:

1. **NCBI BLAST+**
    * The core executables, including `blastn.exe`.
    * Download and install from the [NCBI Official FTP Site](https://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/LATEST/).
2. **BLAST Database**
    * A pre-formatted database (e.g., `ref_prok_rep_genomes` or `16S_ribosomal_RNA`) built with `makeblastdb`.

---

## ðŸ“¥ Installation and Usage

### 1. Get the Application

1. Go to the [**Releases Page**](https://github.com/newamder/BlastNavigator-release/releases) of this repository.
2. Download the latest version (e.g., `BlastNavigator_v0.4.2.zip`) and extract it.
3. Run `BlastNavigator.exe`.

### 2. First-Time Setup (Required)

1. Launch the app and go to **[File] > [Settings...]**.
2. Point the app to the two components you installed in the "Prerequisites" step.
    * **BLAST+ bin folder:** The folder containing `blastn.exe` (e.g., `C:\Program Files\NCBI\blast-2.17.0+\bin`)
    * **DB folder:** The folder containing your database files (e.g., `J:\blast_db`)
    * **DB name:** The base name of your database (e.g., `ref_prok_rep_genomes`)
3. Click [Save]. (This is saved to `config.ini` and loaded automatically next time).

### 3. Run Analysis

1. Add FASTA files using the [Add Files] button.
2. Click the [Run Analysis] button. The app will validate your settings and begin processing the list.

---

## License

[MIT License](LICENSE)
